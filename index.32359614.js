const e={wholeStoreSubs:[]};function t(t,o,n=[]){e[t]?console.error("Store already has entry by key",t):e[t]={value:o,subs:[...n]}}function o(t){return e[t]?e[t].value:(console.error("No entry in store by key",t),null)}function n(t,o){e[t]?(e[t].value=o,function(t){if(!e[t])return void console.error("No entry in store by key",t);const o=e[t].subs;if(0!=o.length)for(let e in o)o[e]()}(t),function(){const t=e.wholeStoreSubs;if(0==t.length)return;for(let e in t)t[e]()}()):console.error("No entry in store by key",t)}function r(e,t){return"function"==typeof t?t.toString():t}function u(t=""){return JSON.stringify(e,r,t)}function i(e,t){document.querySelector(e).innerHTML=t}function c(e,t){let n=o(t);null!==n?i(e,n):console.error("Failed to retrieve value from store using key",t)}function l(e){var t=o("interval"),n=o("exit");t<300&&(console.warn("Attempted to use interval lower than minimum interval, setting interval to minimum"),t=300),!0!==n?setTimeout((()=>{e(),l(e)}),t):console.log("Ticks stopped")}function s(){document.querySelector(".startCounter").addEventListener("click",(function(){n("exit",!1),l((function(){n("money",o("money")+1)})),document.querySelector(".startCounter").disabled=!0,document.querySelector(".stopCounter").disabled=!1}))}function a(){if(null===new URLSearchParams(window.location.search).get("devmode"))return;const t=document.createElement("pre");var o;t.classList.add("devTools"),document.querySelector(".game").append(t),o=[()=>i(".devTools",u("\t"))],e.wholeStoreSubs.push(...o),window.getStoreString=u}function d(){s(),document.querySelector(".stopCounter").addEventListener("click",(function(){n("exit",!0),document.querySelector(".startCounter").disabled=!1,document.querySelector(".stopCounter").disabled=!0})),document.querySelector(".buyUpgrade").addEventListener("click",(function(){var e=o("upgradeCost"),t=o("money"),r=o("interval");e>t?i(".warningText","Not enough money!"):(i(".warningText",""),n("money",t-e),n("interval",r-50),n("upgradeCost",2*e))}))}console.log("Application started"),d(),t("money",0,[()=>c(".money","money")]),t("upgradeCost",1,[()=>c(".upgradeCost","upgradeCost")]),t("interval",1e3),t("exit",!1),c(".money","money"),c(".upgradeCost","upgradeCost"),document.querySelector(".startCounter").disabled=!1,document.querySelector(".stopCounter").disabled=!0,a();
//# sourceMappingURL=index.32359614.js.map
